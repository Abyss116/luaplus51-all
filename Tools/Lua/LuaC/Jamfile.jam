SubDir LUAPLUS Tools Lua LuaC ;

{

local SRCS =
		luac.c
		../../../Src/LuaPlus/src.lua51/print.c
;

rule LuaCApplication TARGET {
	ActiveTarget $(TARGET) ;

	SubInclude LUAPLUS Src LuaPlus : LuaPlusStaticLib ;

	C.IncludeDirectories $(TARGET) : $(LUAPLUS)/Src/LuaPlus/src.lua51 ;
	C.LinkLibraries $(TARGET) : LuaPlusStatic ;
	LuaPlusFixUpTarget $(TARGET) ;
	local exe = [ C.Application $(TARGET) : $(SRCS) ] ;
	NoWorkspace $(TARGET) ;
	return $(exe) ;
}

LUAC_EXE = [ LuaCApplication luac ] ;

}

